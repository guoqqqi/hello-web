{"ast":null,"code":"var _jsxFileName = \"/Users/guoqi/workspace/hello-web-/views/Post/Post.tsx\";\nvar __jsx = React.createElement;\nimport React from \"react\";\nimport matter from \"gray-matter\";\nimport ReactMarkdown from \"react-markdown\";\n\nconst Page = ({\n  content,\n  data = {}\n}) => {\n  return __jsx(React.Fragment, null, __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 7\n    }\n  }, \"This is my article !\"), __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 7\n    }\n  }, content !== undefined && __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 11\n    }\n  }, __jsx(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 13\n    }\n  }, data.title), __jsx(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 13\n    }\n  }, new Date(data.date).toLocaleDateString()), __jsx(\"article\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 13\n    }\n  }, __jsx(ReactMarkdown, {\n    escapeHtml: true,\n    source: content,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 15\n    }\n  })))));\n};\n\nPage.getInitialProps = async context => {\n  // 1. 获取 Slug\n  const {\n    slug,\n    category\n  } = context.query; // 2. 获取语言\n\n  const {\n    lng = \"zh-CN\"\n  } = context.req || {}; // 3. markdown to json \n\n  try {\n    const fileData = await import(`../../_posts/${category}/${lng}/${slug}.md`);\n    const {\n      data,\n      content\n    } = matter(fileData.default);\n    return {\n      namespacesRequired: [\"common\"],\n      data,\n      content\n    };\n  } catch (error) {\n    return {\n      namespacesRequired: [\"common\"],\n      content: undefined\n    };\n  }\n};\n\nexport default Page;","map":{"version":3,"sources":["/Users/guoqi/workspace/hello-web-/views/Post/Post.tsx"],"names":["React","matter","ReactMarkdown","Page","content","data","undefined","title","Date","date","toLocaleDateString","getInitialProps","context","slug","category","query","lng","req","fileData","default","namespacesRequired","error"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAOC,MAAP,MAAmB,aAAnB;AACA,OAAOC,aAAP,MAA0B,gBAA1B;;AAUA,MAAMC,IAA0B,GAAG,CAAC;AAAEC,EAAAA,OAAF;AAAWC,EAAAA,IAAI,GAAG;AAAlB,CAAD,KAA4B;AAC7D,SACE,4BACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGD,OAAO,KAAKE,SAAZ,IACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKD,IAAI,CAACE,KAAV,CADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAO,IAAIC,IAAJ,CAASH,IAAI,CAACI,IAAd,EAAoBC,kBAApB,EAAP,CAFF,EAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,aAAD;AACE,IAAA,UAAU,EAAE,IADd;AAEE,IAAA,MAAM,EAAEN,OAFV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAJF,CAFJ,CAFF,CADF;AAqBD,CAtBD;;AAwBAD,IAAI,CAACQ,eAAL,GAAuB,MAAOC,OAAP,IAAmB;AACxC;AACA,QAAM;AAAEC,IAAAA,IAAF;AAAQC,IAAAA;AAAR,MAAqBF,OAAO,CAACG,KAAnC,CAFwC,CAIxC;;AACA,QAAM;AAAEC,IAAAA,GAAG,GAAG;AAAR,MAAoBJ,OAAO,CAACK,GAAR,IAAsB,EAAhD,CALwC,CAOxC;;AACA,MAAI;AACF,UAAMC,QAAQ,GAAG,MAAM,OAAQ,gBAAeJ,QAAS,IAAGE,GAAI,IAAGH,IAAK,KAA/C,CAAvB;AACA,UAAM;AAAER,MAAAA,IAAF;AAAQD,MAAAA;AAAR,QAAoBH,MAAM,CAACiB,QAAQ,CAACC,OAAV,CAAhC;AACA,WAAO;AACLC,MAAAA,kBAAkB,EAAE,CAAC,QAAD,CADf;AAELf,MAAAA,IAFK;AAGLD,MAAAA;AAHK,KAAP;AAKD,GARD,CAQE,OAAOiB,KAAP,EAAc;AACd,WAAO;AACLD,MAAAA,kBAAkB,EAAE,CAAC,QAAD,CADf;AAELhB,MAAAA,OAAO,EAAEE;AAFJ,KAAP;AAID;AACF,CAtBD;;AAwBA,eAAeH,IAAf","sourcesContent":["import React from \"react\";\nimport { NextPage } from \"next\";\nimport matter from \"gray-matter\";\nimport ReactMarkdown from \"react-markdown\";\n\ntype Props = {\n  content: string;\n  data: {\n    title: string;\n    date: Date;\n  };\n};\n\nconst Page: NextPage<Props, any> = ({ content, data = {} }) => {\n  return (\n    <>\n      <div>This is my article !</div>\n      <div>\n        {content !== undefined && (\n          <div>\n            <h1>{data.title}</h1>\n            <span>{new Date(data.date).toLocaleDateString()}\n            </span>\n            <article>\n              <ReactMarkdown\n                escapeHtml={true}\n                source={content}\n              />\n            </article>\n          </div>\n        )}\n      </div>\n\n    </>\n  );\n};\n\nPage.getInitialProps = async (context) => {\n  // 1. 获取 Slug\n  const { slug, category } = context.query;\n\n  // 2. 获取语言\n  const { lng = \"zh-CN\" } = context.req as any || {};\n\n  // 3. markdown to json \n  try {\n    const fileData = await import(`../../_posts/${category}/${lng}/${slug}.md`);\n    const { data, content } = matter(fileData.default);\n    return {\n      namespacesRequired: [\"common\"],\n      data,\n      content,\n    };\n  } catch (error) {\n    return {\n      namespacesRequired: [\"common\"],\n      content: undefined,\n    };\n  }\n};\n\nexport default Page as any;"]},"metadata":{},"sourceType":"module"}